version: '3'
networks:
  node_net:
    driver: bridge
    ipam:
      driver: default
      config:
      - subnet: 172.14.0.0/16
services:
  node_1:
    build: ./quorum/
    networks:
      node_net:
        ipv4_address: '172.14.1.2'
    environment:
      - CONSTELLATION_KEY={"data":{"bytes":"K+oYSvXKHsFYX9zkChMIDYSADj9VxBygMqm+t0Ag2l4="},"type":"unlocked"}
      - CONSTELLATION_PUB=p6m2ZLsWrwUZ40LfkwCI38abGd5SVFIwiKQnrbcOCD4=
      - NODEKEY=ff4a6ce19fbe31664eabbcece45c8e28d37ecaf889286ce579a53c5f684b437a
      - ACCOUNTKEY=d55ae7c247804428ca98ed524764d7b3f8f009c4147faac06b97033ecc1b986b
      - PERMISSIONED_NODES=[ "enode://eaddf7d6d43d84d320c7fc46ba5e200e88176ce016a0c62683fdff2792fd26e7416eea114d4fe93274354737af14b05d6368aa0de9f68c07e6919cfeaf13f808@172.14.4.2:21000?discport=0&raftport=50401","enode://5734f39f23c3893f598f1c2d2577855bf2fd83983f2b2cd279733e0425ab74499b07879d80085e563a4be6e920da233d34b11f5000f10a90e3a5acb2d27e6cb4@172.14.2.2:21000?discport=0&raftport=50401","enode://3024ae995a8ebc594a9e10d859995158670e7f93709bdbffa7e6e2ecf45917fef930d14d43e3c0ac0bd9fd6a0adef5396b18d80fca1a3e91ff1b9631265640e0@172.14.1.2:21000?discport=0&raftport=50401","enode://f3a0cb95d0e2dac3b2f9bb6728bd501cf2875cfb8b34f106b7cef56f172b3da9c8c3da7e11184e65398bf822cc15cdf9928e272f032fc0432a06872c618f5022@172.14.3.2:21000?discport=0&raftport=50401" ]
      - CONSTELLATION_NODES=https://172.14.2.2:9001/,https://172.14.1.2:9001/,https://172.14.3.2:9001/,https://172.14.4.2:9001/
      - node_NODE_ADDRESS=172.14.1.2
    ports:
      - 22001:22000
  node_2:
    build: ./quorum/
    networks:
      node_net:
        ipv4_address: '172.14.2.2'
    environment:
      - CONSTELLATION_KEY={"data":{"bytes":"VWdW9qu2aC/TGBP0oNncOcjaCAHvc04xFdH9ylmovrY="},"type":"unlocked"}
      - CONSTELLATION_PUB=8QH4amW71rBaqRBYG88RUDb315n/6Uwxu23Z7AJK520=
      - ACCOUNTKEY=3a1076bf45ab87712ad64ccb3b10217737f7faacbf2872e88fdd9a537d8fe266
      - NODEKEY=61496bc9bff284db113ae22a7fa079ec4c2fc04a98f807d1e2558776a4b9c078vagrant
      - PERMISSIONED_NODES=[ "enode://eaddf7d6d43d84d320c7fc46ba5e200e88176ce016a0c62683fdff2792fd26e7416eea114d4fe93274354737af14b05d6368aa0de9f68c07e6919cfeaf13f808@172.14.4.2:21000?discport=0&raftport=50401","enode://5734f39f23c3893f598f1c2d2577855bf2fd83983f2b2cd279733e0425ab74499b07879d80085e563a4be6e920da233d34b11f5000f10a90e3a5acb2d27e6cb4@172.14.2.2:21000?discport=0&raftport=50401","enode://3024ae995a8ebc594a9e10d859995158670e7f93709bdbffa7e6e2ecf45917fef930d14d43e3c0ac0bd9fd6a0adef5396b18d80fca1a3e91ff1b9631265640e0@172.14.1.2:21000?discport=0&raftport=50401","enode://f3a0cb95d0e2dac3b2f9bb6728bd501cf2875cfb8b34f106b7cef56f172b3da9c8c3da7e11184e65398bf822cc15cdf9928e272f032fc0432a06872c618f5022@172.14.3.2:21000?discport=0&raftport=50401" ]
      - CONSTELLATION_NODES=https://172.14.2.2:9001/,https://172.14.1.2:9001/,https://172.14.3.2:9001/,https://172.14.4.2:9001/
      - node_NODE_ADDRESS=172.14.2.2
    depends_on:
      - node_1
    ports:
      - 22002:22000
  node_3:
    build: ./quorum/
    networks:
      node_net:
        ipv4_address: '172.14.3.2'
    environment:      
      - CONSTELLATION_KEY={"data":{"bytes":"duZer9N1aXBLyQpjgLTsqKYL1jj0Dkps7KesKDpQ0MU="},"type":"unlocked"}
      - CONSTELLATION_PUB=iJu6KyfufTt9ApXiDvh5BKsCOfvpvQeZnvEs7Vd+Nwo=
      - ACCOUNTKEY=2cb1ae85c9f16247e310e11dfae5b94d92c13462c95a45f0cea92f02a555829f
      - NODEKEY=7a392bc2a4b829e890539cbbd8ea11de068586c6cac508891af386c025714173
      - PERMISSIONED_NODES=[ "enode://eaddf7d6d43d84d320c7fc46ba5e200e88176ce016a0c62683fdff2792fd26e7416eea114d4fe93274354737af14b05d6368aa0de9f68c07e6919cfeaf13f808@172.14.4.2:21000?discport=0&raftport=50401","enode://5734f39f23c3893f598f1c2d2577855bf2fd83983f2b2cd279733e0425ab74499b07879d80085e563a4be6e920da233d34b11f5000f10a90e3a5acb2d27e6cb4@172.14.2.2:21000?discport=0&raftport=50401","enode://3024ae995a8ebc594a9e10d859995158670e7f93709bdbffa7e6e2ecf45917fef930d14d43e3c0ac0bd9fd6a0adef5396b18d80fca1a3e91ff1b9631265640e0@172.14.1.2:21000?discport=0&raftport=50401","enode://f3a0cb95d0e2dac3b2f9bb6728bd501cf2875cfb8b34f106b7cef56f172b3da9c8c3da7e11184e65398bf822cc15cdf9928e272f032fc0432a06872c618f5022@172.14.3.2:21000?discport=0&raftport=50401" ]
      - CONSTELLATION_NODES=https://172.14.2.2:9001/,https://172.14.1.2:9001/,https://172.14.3.2:9001/,https://172.14.4.2:9001/
      - node_NODE_ADDRESS=172.14.3.2
    depends_on:
      - node_2
    ports:
      - 22003:22000
  node_4:
    build: ./quorum/
    networks:
      node_net:
        ipv4_address: '172.14.4.2'
    environment:      
      - CONSTELLATION_KEY={"data":{"bytes":"84yFiP8szAYzbIrX4SEongxAkFcJ9dwu0u8N2WBdxJ0="},"type":"unlocked"}
      - CONSTELLATION_PUB=rA+wtw+8xg3IkIEKxA1Y/5mPljYh63jDhgQxc57G+B0=
      - ACCOUNTKEY=f7d04e6b6985864c44d434a56f7ec2826c1b5724e05971e746537c2d47aad520
      - NODEKEY=9bfb3ceb0ea25a910ffa65a17d974959a9cb9ae4202635f342f60177b6ed0653
      - PERMISSIONED_NODES=[ "enode://eaddf7d6d43d84d320c7fc46ba5e200e88176ce016a0c62683fdff2792fd26e7416eea114d4fe93274354737af14b05d6368aa0de9f68c07e6919cfeaf13f808@172.14.4.2:21000?discport=0&raftport=50401","enode://5734f39f23c3893f598f1c2d2577855bf2fd83983f2b2cd279733e0425ab74499b07879d80085e563a4be6e920da233d34b11f5000f10a90e3a5acb2d27e6cb4@172.14.2.2:21000?discport=0&raftport=50401","enode://3024ae995a8ebc594a9e10d859995158670e7f93709bdbffa7e6e2ecf45917fef930d14d43e3c0ac0bd9fd6a0adef5396b18d80fca1a3e91ff1b9631265640e0@172.14.1.2:21000?discport=0&raftport=50401","enode://f3a0cb95d0e2dac3b2f9bb6728bd501cf2875cfb8b34f106b7cef56f172b3da9c8c3da7e11184e65398bf822cc15cdf9928e272f032fc0432a06872c618f5022@172.14.3.2:21000?discport=0&raftport=50401" ]
      - CONSTELLATION_NODES=https://172.14.2.2:9001/,https://172.14.1.2:9001/,https://172.14.3.2:9001/,https://172.14.4.2:9001/
      - node_NODE_ADDRESS=172.14.4.2
    depends_on:
      - node_3
    ports:
      - 22004:22000